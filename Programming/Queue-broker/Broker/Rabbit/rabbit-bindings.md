
# Привязки

**Связи:**
- Обратные
	- [RabbitMQ](rabbit-mq.md);
- Прямые:
	- [Точки обмена (Exchange)](rabbit-exchange)

**Хештеги:**
- #Queue/Broker ;
- #Rabbit

## Общие сведения

**Привязки (bindings)** - это правила, которые используются точками обмена для маршрутизации (кроме всего прочего) сообщений в очереди. Чтобы проинструктировать точку обмена E для отправления сообщений в очередь Q, необходимо привязать Q к E. Привязки могут иметь опциональный атрибут ключа маршрутизации, которые используется некоторыми типами точек обмена. Цель ключа маршрутизации - выбрать определенные сообщения, опубликованные в точке обмена, чтобы перенаправить их в привязанную очередь. Другими словами, ключ маршрутизации служит фильтром.

Если провести аналогию:
- Очередь похожа на пункт назначения в Нью-Йорке.
- Обмен похож на аэропорт JFK.
- Привязки — это маршруты из аэропорта Кеннеди до пункта назначения. Способов достичь его может быть ноль или много.

Наличие этого слоя косвенности (layer of indirection) позволяет использовать сценарии маршрутизации, которые невозможно или очень сложно реализовать с помощью публикации непосредственно в очереди, а также устраняет определенный объем дублированной работы, которую приходится выполнять разработчикам приложений.

Если сообщение не может быть перенаправлено в какую-либо очередь (например, из-за отсутствия привязок для точки обмена, на которой оно было опубликовано), оно либо отбрасывается, либо возвращается издателю, в зависимости от атрибутов сообщения, установленных издателем.