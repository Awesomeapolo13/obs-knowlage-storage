# Обработка сообщений

**Связи:**
- Обратные
	- [RabbitMQ](rabbit-mq);
- Прямые:

**Хештеги:**
- #Queue/Broker ;
- #Rabbit 

## Особенности

Читатель (Consumer) всегда медленный и нам нужно заставить его работать как можно быстрее. 

![[Pasted image 20240618104744.png]]

По умолчанию используется средний вариант. Т.е. мы на каждое сообщение из реббита отвечаем, что забрали его и можно удалить это сообщение.

Можно сохранять сообщение в БД и использовать далее для транзакций.

Можно пушить сообщения непрерывным потоком.

QoS (Quality of service) - если повысить его значение, создает периоды латентности, позволяющие протолкнуть за раз значительное количество сообщений. При этом ломает порядок обработки сообщений. Лучше использовать с механизмом согласованного хеширования или просто добавить консьюмеров вместо QoS. QoS выставляется руками на каждый конкретный консьюмер.
