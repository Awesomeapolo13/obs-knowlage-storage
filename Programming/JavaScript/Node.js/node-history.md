
# Историческая справка

## Multi Threaded Server

Раньше применялся подход Multi Threaded Server. 
Был бек на Java, были запросы. Под каждый запрос выделялся поток. Поток выделенно обслуживал этот запрос и закрывался после того, как отдавал ответ. Между потоками была возможность переключения.

![[Pasted image 20230131213638.png]]

Концепция работала исправно и позволяла эффективно использовать четырехядерные процессоры.
Из минусов - был блокирующий ввод-вывод.

Пример блокирования потока - логирование, получение из БД и рендер шаблона. Во время этих операций поток простаивает.

![[Pasted image 20230131213914.png]]

Так же есть проблема оперативной памяти (C10K проблема):
- 1 поток примерно 1МБ памяти;
- 10 000 потоков примерно 10 ГБ памяти;
- 1000000 примерно 1ТБ памяти.

## None blocking I/O

Концепция неблокируемого ввода/вывода.

Есть один основной поток:
- он никогда не будет блокироваться вводом/выводом;
- сервер продолжает обслуивать запросы;
- мы работаем с асинхронным кодом.

![[Pasted image 20230131214459.png]]

Есть запросы, есть основной поток. Если натыкаемся на сложную операцию (криптография, чтение из файлов), то отправляем ее в Working Threads, то есть в специальные дополнительные потоки.


**Ключи:**
- [Node.js](node-js);

**Хештеги:** #Programming/JS/NodeJs