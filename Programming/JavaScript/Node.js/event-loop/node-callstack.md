
# Stack вызовов

## Классическая обработка

Справа на рисунке ниже представлены очереди Event Loop.
Сам рисунок иллюстрирует взаимодействие стека вызовов с этими функциями.

Сперва в стек отправляется крнстанта.

![[Pasted image 20230204203508.png]]

Затем, аналогично, объявляются функции.

Когда мы доходим до вызова функции `logDouble()`, в стек записывается ее вызов, и `console.log(double(a))` внутри. Затем туда так же добавляется вызов функции `double()` и т.д. Т.о. стек постепенно заполчется, функции наслаиваются одна на другую, пока не выйдет из вызванной изначально фуекции.


![[Pasted image 20230204204058.png]]

## Обработка таймера

Если же у нас есть участок кода с таймером, то stack откладывает это действие, чтобы оно не блокировал дальнейшую работу.

![[Pasted image 20230204210436.png]]

Далее проходит время указанное в таймере и таймер отправляется в соответствующую очередь. После чего, когда event loop дойдет до обработки таймеров, содержание колбека таймера перместится в стек и отработает.

![[Pasted image 20230204210604.png]]

**Ключи:**
- [Node.js](node-js);
- [Event loop](event-loop.md);
- [Timer](node-timer);

**Хештеги:** #Programming/JS/NodeJs/EventLoop