
# Domain-Driven Design (DDD)

## Общие сведения

### Определение

**DDD** (*Domain-driven design* - предметно-ориентированное проектирование) - подход к разработке программного обеспечения, позволяющий точным образом отразить знания о предметной области в программном виде.

Предметная область (домен) - область знания или деятельности, в котором пользователь использует программное обнспечение. Простыми словами - это бизнес задачи и их окружение.


### Когда использовать и нет

**Использовать**, когда:
1) Большое количество бизнес-логики
2) Сложность предметной области превышает техническую сложность
**Не использовать**, если:
1) Когда техническая сложность превышает сложность бизнес-логики, например когда бизнес логики мало. нужно сделать простой блог, бот или что-то такое


### Преимущества

1) Акцент на предметную область - лучшее погружение в бизнес логику и, как следсвие, лучшее её понимание и полнота знаний о ней.
	- совершенствование знаний;
	- понимание бизнес процессов;
	- единая терминология.
2) Командная разработка
3) Шаблоны проектирования - предоставляет множество шаблонов и правктик


## Этапы DDD

### Стратегическое проектирование (Stratigic design)

#### Задачи стратегического проектирования

- Исследование домена;
- Построение коммуникации;
- Определение концепции;
- Выработка единой терминологии;
- Определение границ поддоменов;
- Определение подобластей.

#### Концепции

Это то с чего начинается проектирование предметной области. Необходимо собрать знания и материалы о сущностях предметной области, о её событиях.
Источниками концепций могут служить:

- Эксперты;
- Техническое задание;
- Событийный штурм (event storming);
- Материалы (книги, статьи и пр.).

#### Событийный штурм

Методика быстрого проектирования с вовлечением экспертов предметной области и технических экспертов. В ходе него, вышеупомянутые люди накидывают события, происходящие в предметной области.

1) Необходимо выявлять события (создание пользователя, создание навыка, создание профессии и др.)
2) Затем необходимо выявить сущности и агрегаты, связанные с этими событиями.
Сейчас концентрация идет на бизнес процессы. Инфраструктурные и прочие задачи пока не рассматриваются, есть лишь следование предметной области.

![[Pasted image 20221127224944.png]]

Оранжевые стикеры - события;
Желтые стикеры - агрегаты

3) После выделения всех концепций мы получаем большое облако с событиями сущностями и агрегатами. Далее необходимо все эти сущности кластеризовать по огрниченным контекстам (bounded context, поддомены), где внутри контекстов сущности и события связаны друг с другом по смыслу.

![[Pasted image 20221127225610.png]]

Ограниченные контексты по навыкам, компаниям, тестированию и др..

![[Pasted image 20221127225807.png]]


4) Необходимо определить связанность контекстов (какие связи между контекстами будут).

![[Pasted image 20221127231308.png]]

Подробнее можно посмотреть с главе со [слоеной архитектурой(Onion-architecture)] и [модульным монолитом](Monolith-first)

**Хештеги:** #Programming/Arch/DDD