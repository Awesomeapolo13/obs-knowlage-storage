
# Оператор EXCEPT

**Ключи:**
- Обратные:
	- [SQL](SQL);
	- [Реляционные БД](relative);
	- [Операторы](sql-operators);
- Прямые:
	- [UNION](union-operator);

**Хештеги:** #Programming/Databases/SQL/Operator

## Описание

Оператор MySQL `EXCEPT` позволяет вам извлекать строки из одного запроса, которые отсутствуют в другом запросе.

```sql
query1
EXCEPT [ALL | DISTINCT]
query2;
```

**Опреатор присутствует в MySQL начиная с версии 8.0.31.**

В этом синтаксисе `EXCEPT` сравнивает результат `query1` с набором результатов `query2` и возвращает строки набора результатов запроса1, которые не появляются в наборе результатов запроса2.

По умолчанию оператор `EXCEPT` использует опцию `DISTINCT`, если вы ее опустите. `EXCEPT DISTINCT` удаляет повторяющиеся строки в наборе результатов. Если необходимо сохранить повторяющиеся строки, вам необходимо явно указать параметр `ALL`.

Условия работы с оператором `EXCEPT` аналогичны условиям для `UNION`. Особенности наименования колонок и сортировки результатов запроса так же аналогичны `UNION`.
