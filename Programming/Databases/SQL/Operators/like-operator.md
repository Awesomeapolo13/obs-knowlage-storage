
# Оператор LIKE

**Ключи:**
- Обратные:
	- [SQL](SQL);
	- [Реляционные БД](relative);
- Прямые:

**Хештеги:** #Programming/Databases/SQL/Operator

## Описание

Оператор `LIKE` возвоащает `TRUE`, если значение удовлетворяет переданному шаблону.

```sql
expression LIKE pattern ESCAPE escape_character
```

Чтобы сформировать шаблон, используются знаки `%` и `_`. Подстановочный знак `%` соответствует любой строке, состоящей из нуля или более символов, а подстановочный знак `_` соответствует любому отдельному символу.

Например, `s%` соответствует любой строке, начинающейся на `s`.  Паттерн `se_` соответствует строкам, которые начинаются на `se`, и имеют ещё один любой символ на конце (`see`, `sea`).

Если шаблон содержит подстановочный знак (`%`, `_`) и вы хотите рассматривать его как обычный символ, вы можете использовать предложение `ESCAPE`.

Разрешено комбинировать оператора `NOT` и `LIKE`.

Обратите внимание, что шаблон не чувствителен к регистру. Таким образом, шаблоны `b%` и `B%` возвращают один и тот же результат.

## Выражение `ESCAPE`

Иногда шаблон может содержать подстановочные знаки, например `10%`, `_20` и т. д. В этом случае вы можете использовать выражение `ESCAPE` для указания escape-символа, чтобы оператор `LIKE` интерпретировал подстановочный знак как буквальный символ. Если вы не укажете escape-символ явно, escape-символом по умолчанию будет обратная косая черта (`\`).

## Пример

Выражение находит сотрудников, чья фамилия оканчивается на `son`.

```sql
SELECT 
    firstName, 
    lastName
FROM
    employees
WHERE
    lastName LIKE '%son'
ORDER BY firstName;
```

Если вы хотите найти продукты, коды которых содержат строку `_20`, вы можете использовать шаблон `%\_20%` с escape-символом по умолчанию:

```sql
SELECT 
    productCode, 
    productName
FROM
    products
WHERE
    productCode LIKE '%\_20%';
```

Альтернативно вы можете указать другой escape-символ, например, `$,` используя предложение `ESCAPE`:

```sql
SELECT 
    productCode, 
    productName
FROM
    products
WHERE
    productCode LIKE '%$_20%' ESCAPE '$';
```