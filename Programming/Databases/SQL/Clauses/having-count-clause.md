
# HAVING COUNT

**Ключи:**
- Обратные:
	- [Выражения SQL](sql-clause);
- Прямые:
	- [GROUP BY](group-by-clause);


**Хештеги:** #Programming/Databases/SQL/Clause

## Определение

В MySQL выражение `GROUP BY` организует строки в группы. Объединив выражение `GROUP BY` с функцией `COUNT`, вы получите как группы, так и количество элементов в каждой группе.

Чтобы фильтровать группы по количеству элементов в каждой группе, вы используете выражение `HAVING` и функцию `COUNT`.

```sql
SELECT 
  c1, 
  COUNT(c2) 
FROM 
  table_1 
GROUP BY 
  c1
HAVING 
  COUNT(c2)...
```

Следует учитывать, что нельзя назначить алиас `COUNT(column_2)` в  выражение `SELECT` и использовать его в `HAVING`.

Причина в том, что MySQL оценивает выражение `HAVING` перед `SELECT`. Следовательно, в то время, когда MySQL обрабатывает `HAVING`, он не знает алиас столбца `count_c2`, поскольку он еще не обработал `SELECT`.
