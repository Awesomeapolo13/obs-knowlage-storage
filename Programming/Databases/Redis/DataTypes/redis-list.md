
# Списки

**Ключи:**
- Обратные:
	- [Redis](redis);
	- [Типы данных](redis-data-types)
- Прямые:

**Хештеги:** 
- #Programming/Databases/Redis/DataTypes
- #Redis/DataTypes

## Особенности

1) Под капотом - связные списки.
2) Время доступа в начало/конец:`O(1)`.
3) Время произвольного доступа (в т.т поиск): `O(n)`.
4) Могут содержать неуникальные значения.

![[Pasted image 20240401165735.png]]

## Сценарии использования

- хранение событий в хронологическом порядке;
- логирование;
- event sourcing.

*Важно помнить:*
- список со временем будет раздуваться;
- частая правктика - обрезать его длину после вставки.
## Команды

Буквы `R` и `L` перед командой означают работу с правой и левой частью списка соответственно.

1) Добавить элемент в конец (post:10 - просто строка).
```redis
RPUSH user:1:posts post:10
RPUSH user:1:posts post:11
```

2) Добавить элемент в начало.
```redis
LPUSH user:1:posts post:9
```

3) Обрезать список до трех элементов
```redis
LTRIM user:1:posts 0 2
```

4) Получить длину списка
```redis
LLEN user:1:posts
```

5) Получить срез списка (прочитать несколько элементов, если же передать отрицательный индекс будет искать с конца).
```redis
LRANGE user:1:posts 0 10
```

6) Получить элемент по индексу
```redis
LINDEX user:1:posts 0
```

7) Удалить элемент с конца (вернет удаленный элемент или nil, если он уже был удален)
```redis
RPOP user:1:posts
```

8) Удалить элемент с начала (вернет удаленный элемент или nil, если он уже был удален)
```redis
LPOP user:1:posts post:11
```
