
# Авторизация JWT токеном

JSON Web Token (JWT) - интернет стандарт для создания данных с дополнительной подписью и шифрованием. Чаще всего используется как инструмент авторизации и аутентификации пользователя.

## Принцип работы

1) Пользователь с помощью Логина и пароля отправляет запрос аутентификации на сервер (Authorization Server).

2) Сервер возвращает два токена Access token и Refresh token.

![[Pasted image 20221113172627.png]]

3) Клиент отправляет запрос на сервер (Resource Server) с прикрепленным access токеном и получает необходимые ему ресурсы.

4) После истечения времени жизни Access token, пользователь отправляет запрос с Refresh token на аутентификационный сервер.

5) Сервер аутентификации возвращает новую пару Access token и Refresh token.

## Структура токена

Токен представляет собой строку из трех частей, в которой зашифрованы определенные данные:
1) Заголовки;
2) Тело запроса;
3) Подпись в виде комбинированной зашифрованной строки

![[Pasted image 20221113173954.png]]


Сам по себе механизм аутентификации по JWT не требует хранения информации о пользовательских сессиях. Однако, механизм Refresh token требует хранения в БД рефреш токенов.  Это необходимо, чтобы удобно отзывать токены, валидировать сессии и т.д.

**Ключи:**
- [Автоиризация](Authorization);
- [Symfony JWT реализация](Symfony-JWT);

**Хештеги:** #Programming/Auth/JWT