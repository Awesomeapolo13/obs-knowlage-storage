
# Жизненный цикл worker-процесса

**Связи:**
- Обратные
	- [PHP-FPM](php-fpm);
- Прямые:
	

**Хештеги:** #Programming/PHP/PHP-FPM

Worker-процесс проходит несколько стадий жизненного цикла:

1) **MINIT (Module Initialization)**
	- Загрузка PHP-расширений
	- Инициализация persistent ресурсов (подключения к БД)
	- Настройка INI-параметров
2) **RINIT (Request Initialization) - для каждого запроса**
	- Подготовка к обработке конкретного запроса
	- Очистка глобальных переменных
	- Инициализация контекста запроса
3) **Выполнение PHP-скрипта**
	- Парсинг и компиляция кода (если нет в OPcache)
	- Выполнение скрипта
	- Возврат результата веб-серверу
4) **RSHUTDOWN (Request Shutdown)**
	- Очистка памяти запроса
	- Вызов деструкторов объектов
	- Сборка мусора
5) **MSHUTDOWN (Module Shutdown) - при завершении процесса**
	- Освобождение persistent ресурсов
	- Финальная очистка памяти


